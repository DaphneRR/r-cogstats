
## ----setup, cache=FALSE, include=FALSE-----------------------------------
opts_knit$set(echo=FALSE, message=FALSE, progress=FALSE, 
              cache=TRUE, verbose=FALSE, tidy=TRUE)
opts_knit$set(aliases=c(h='fig.height', w='fig.width',
                cap='fig.cap', scap='fig.scap'))
opts_knit$set(eval.after = c('fig.cap','fig.scap'))
knit_hooks$set(document = function(x) {
  gsub('(\\\\end\\{knitrout\\}[\n]+)', '\\1\\\\noindent ', x)
})
library(knitcitations)
cite_options(tooltip=FALSE)
bib <- read.bibtex("refs.bib")
options(width=80)
library(latticeExtra)
trellis.par.set(custom.theme.2())


## ----vector--------------------------------------------------------------
x <- c(474.688, 506.445, 524.081, 530.672, 530.869,
       566.984, 582.311, 582.940, 603.574, 792.358)


## ----display-------------------------------------------------------------
x


## ----index---------------------------------------------------------------
x[1]
x[3]


## ----index2--------------------------------------------------------------
x[1:3]
x[c(1, 2, 3)]


## ----logical-------------------------------------------------------------
x[x <= 600]


## ----logical2------------------------------------------------------------
which(x[x <= 600])


## ----length--------------------------------------------------------------
length(x)
min(x)
max(x)


## ----concatenate---------------------------------------------------------
c(min(x), max(x))


## ----range, eval=FALSE---------------------------------------------------
## range(x)


## ----assign--------------------------------------------------------------
res <- c(min(x), max(x))


## ----print, eval=FALSE---------------------------------------------------
## res
## print(res)


## ----add-----------------------------------------------------------------
x[1] + x[2]


## ----add2, eval=FALSE----------------------------------------------------
## sum(x[1:2])


## ----log-----------------------------------------------------------------
log(x)


## ----loop----------------------------------------------------------------
for (i in 1:10) print(log(x[i]))


## ----erase, eval=FALSE---------------------------------------------------
## x <- log(x)


## ----missing-------------------------------------------------------------
x[5]
x[5] <- NA
x


## ----ls------------------------------------------------------------------
ls()


## ----sample--------------------------------------------------------------
gender <- sample(c("male", "female"), size=10, replace=TRUE)
gender
str(gender)


## ----factor--------------------------------------------------------------
gender <- factor(gender)
str(gender)


## ----table---------------------------------------------------------------
table(gender)


## ----label---------------------------------------------------------------
cond <- c(1, 2, 1, 2, 2, 2, 1, 1, 2)
table(cond)
cond <- factor(cond, levels=c(1,2), labels=c("A", "B"))
table(cond)


## ----twogroup------------------------------------------------------------
x1 <- c(451.536,958.612,563.538,505.735,1266.825,
        860.663,457.707,268.679,587.303,669.594)
x2 <- c(532.474,525.185,1499.471,480.732,631.752,
        672.419,322.341,571.356,428.832,680.848)


## ----mean----------------------------------------------------------------
mean(x1)
mean(x2)


## ----getone--------------------------------------------------------------
x1[1]
x2[1]


## ----matrix--------------------------------------------------------------
x12 <- cbind(x1, x2)
head(x12, n=3)  # or x12[1:3,]


## ----dfr-----------------------------------------------------------------
id <- paste("id", 1:10, sep="")
id
d <- data.frame(id, x1, x2)
head(d)


## ----reshape-------------------------------------------------------------
if (!require(reshape2)) install.packages("reshape2")
dm <- melt(d)
head(dm)


## ----package, eval=FALSE-------------------------------------------------
## library(reshape2)


## ----summary-------------------------------------------------------------
summary(dm)
str(dm)


## ----getvar--------------------------------------------------------------
dm$variable


## ----dict----------------------------------------------------------------
dm$value[dm$variable == "x1"]


## ----dict2---------------------------------------------------------------
dm$variable[dm$value > 567]  # dm$variable[dm$value > median(dm$variable)]


## ----rename--------------------------------------------------------------
names(dm) <- c("subject", "condition", "RT")
head(dm, n=3)


## ----save----------------------------------------------------------------
save(dm, file="data_lab1.rda")


## ----load----------------------------------------------------------------
load("data_lab.rda")


## ----writecsv------------------------------------------------------------
write.csv(dm, file="data_lab1.csv")
dir(pattern=".csv")


## ----readcsv-------------------------------------------------------------
rm(dm)  # clean up the workspace
dm <- read.csv("data_lab1.csv")
ls()


## ----, echo=FALSE, results='asis'----------------------------------------
bibliography(style="text")


